{"ast":null,"code":"var _jsxFileName = \"D:\\\\KavtechHRM\\\\frontend\\\\src\\\\Components\\\\accountBox\\\\loginForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport { Field, useFormik } from \"formik\"; // import jwt_decode from \"jwt-decode\";\n// import UseNavigate from 'react-router-dom'\n\nimport { BoldLink, BoxContainer, FieldContainer, FieldError, FormContainer, FormError, Input, MutedLink, SubmitButton } from \"./common\";\nimport { Marginer } from \"../marginer\";\nimport * as yup from \"yup\";\nimport axios from \"axios\";\nimport { AccountContext } from \"./accountContext\";\nimport PropTypes from 'prop-types';\nimport { setSourceMapRange } from \"typescript\"; // const validationSchema = yup.object({\n//   email: yup.string().required(),\n//   password: yup.string().required(),\n// });\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function LoginForm(props) {\n  _s();\n\n  const {\n    switchToSignup\n  } = useContext(AccountContext);\n  const [error, setError] = useState(null); //Authentication\n\n  let [authTokens, setAuthTokens] = useState(null);\n  let [user, setUser] = useState(null);\n  let {\n    loginUser\n  } = useContext(AccountContext); //Authentication\n\n  const onSubmit = async e => {\n    setError(null);\n    let response = fetch('http://127.0.0.1:8000/Kavtech/login/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'email': e.target.email,\n        'password': e.target.password\n      })\n    });\n    let data = await response.json();\n\n    if (response.status === 200) {\n      setAuthTokens(data);\n      setUser(data.access);\n    } else {\n      alert(\"Something Went Wrong!!!\");\n    } // const response = await axios\n    //   .post(\"http://127.0.0.1:8000/Kavtech/login/\", values)\n    //   .catch((err) => {\n    //     if (err && err.response) setError(err.response.data.message);\n    //   });\n    //   if (response.status === 200){\n    //     setAuthTokens(values)\n    //     setSourceMapRange(values.access)\n    //   }else{\n    //     alert(\"Something Went Wrong!!!\")\n    //   }\n\n\n    if (response) {\n      alert(\"Loging You In!!!\");\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    validateOnBlur: true,\n    onSubmit // validationSchema: validationSchema,\n\n  });\n  return /*#__PURE__*/_jsxDEV(BoxContainer, {\n    children: [/*#__PURE__*/_jsxDEV(FormError, {\n      children: error ? error : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n      onSubmit: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(FieldContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          name: \"email\",\n          placeholder: \"Email\",\n          value: formik.values.email,\n          onChange: formik.handleChange,\n          onBlur: formik.handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FieldError, {\n          children: formik.touched.email && formik.errors.email ? formik.errors.email : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FieldContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          name: \"password\",\n          type: \"password\",\n          placeholder: \"Password\",\n          value: formik.values.password,\n          onChange: formik.handleChange,\n          onBlur: formik.handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FieldError, {\n          children: formik.touched.password && formik.errors.password ? formik.errors.password : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n        href: \"#\",\n        children: \"Forgot Password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"1em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        type: \"submit\",\n        disabled: !formik.isValid,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: 5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n      href: \"#\",\n      children: [\"Dont have an Account?\", /*#__PURE__*/_jsxDEV(BoldLink, {\n        href: \"#\",\n        onClick: switchToSignup,\n        children: \"sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"3djKR2+xVkT8JVRQfnd1Q+NWFj8=\", false, function () {\n  return [useFormik];\n});\n\n_c = LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["D:/KavtechHRM/frontend/src/Components/accountBox/loginForm.jsx"],"names":["React","useState","useContext","Field","useFormik","BoldLink","BoxContainer","FieldContainer","FieldError","FormContainer","FormError","Input","MutedLink","SubmitButton","Marginer","yup","axios","AccountContext","PropTypes","setSourceMapRange","LoginForm","props","switchToSignup","error","setError","authTokens","setAuthTokens","user","setUser","loginUser","onSubmit","e","response","fetch","method","headers","body","JSON","stringify","target","email","password","data","json","status","access","alert","formik","initialValues","validateOnBlur","handleSubmit","values","handleChange","handleBlur","touched","errors","isValid"],"mappings":"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","sourcesContent":["import React, { useState ,useContext } from \"react\";\r\nimport { Field, useFormik } from \"formik\";\r\n// import jwt_decode from \"jwt-decode\";\r\n\r\n// import UseNavigate from 'react-router-dom'\r\nimport {\r\n  BoldLink,\r\n  BoxContainer,\r\n  FieldContainer,\r\n  FieldError,\r\n  FormContainer,\r\n  FormError,\r\n  Input,\r\n  MutedLink,\r\n  SubmitButton,\r\n} from \"./common\";\r\nimport { Marginer } from \"../marginer\";\r\nimport * as yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { AccountContext } from \"./accountContext\";\r\nimport PropTypes from 'prop-types';\r\nimport { setSourceMapRange } from \"typescript\";\r\n// const validationSchema = yup.object({\r\n//   email: yup.string().required(),\r\n//   password: yup.string().required(),\r\n// });\r\n\r\nexport function LoginForm(props) {\r\n  const { switchToSignup } = useContext(AccountContext);\r\n  const [error, setError] = useState(null);\r\n  //Authentication\r\n  let [ authTokens, setAuthTokens] = useState(null)\r\n  let [user, setUser] = useState(null)\r\n  let {loginUser} = useContext(AccountContext)\r\n  //Authentication\r\n  const onSubmit = async (e) => {\r\n    setError(null);\r\n    let response = fetch ('http://127.0.0.1:8000/Kavtech/login/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body:JSON.stringify({'email':e.target.email, 'password':e.target.password})\r\n        })\r\n        let data = await response.json()\r\n        if (response.status === 200){\r\n            setAuthTokens(data)\r\n            setUser(data.access)\r\n    \r\n          }else{\r\n            alert(\"Something Went Wrong!!!\")\r\n    \r\n          }\r\n    // const response = await axios\r\n    //   .post(\"http://127.0.0.1:8000/Kavtech/login/\", values)\r\n    //   .catch((err) => {\r\n    //     if (err && err.response) setError(err.response.data.message);\r\n    //   });\r\n    //   if (response.status === 200){\r\n    //     setAuthTokens(values)\r\n    //     setSourceMapRange(values.access)\r\n\r\n    //   }else{\r\n    //     alert(\"Something Went Wrong!!!\")\r\n\r\n    //   }\r\n\r\n    if (response) {\r\n        alert(\"Loging You In!!!\")\r\n\r\n    }\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: { email: \"\", password: \"\" },\r\n    validateOnBlur: true,\r\n    onSubmit,\r\n    // validationSchema: validationSchema,\r\n  });\r\n\r\n  return (\r\n    <BoxContainer>\r\n      <FormError>{error ? error : \"\"}</FormError>\r\n      <FormContainer onSubmit={formik.handleSubmit}>\r\n        <FieldContainer>\r\n          <Input\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            value={formik.values.email}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n          {\r\n            <FieldError>\r\n              {formik.touched.email && formik.errors.email\r\n                ? formik.errors.email\r\n                : \"\"}\r\n            </FieldError>\r\n          }\r\n        </FieldContainer>\r\n        <FieldContainer>\r\n          <Input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={formik.values.password}\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n          />\r\n          {\r\n            <FieldError>\r\n              {formik.touched.password && formik.errors.password\r\n                ? formik.errors.password\r\n                : \"\"}\r\n            </FieldError>\r\n          }\r\n        </FieldContainer>\r\n        <MutedLink href=\"#\">Forgot Password?</MutedLink>\r\n        <Marginer direction=\"vertical\" margin=\"1em\" />\r\n        <SubmitButton type=\"submit\" disabled={!formik.isValid}>\r\n          Login\r\n        </SubmitButton>\r\n      </FormContainer>\r\n      <Marginer direction=\"vertical\" margin={5} />\r\n      <MutedLink href=\"#\">\r\n        Dont have an Account?\r\n        <BoldLink href=\"#\" onClick={switchToSignup}>\r\n          sign up\r\n        </BoldLink>\r\n      </MutedLink>\r\n    </BoxContainer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}